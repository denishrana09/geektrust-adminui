(this["webpackJsonpgeektrust-adminui"]=this["webpackJsonpgeektrust-adminui"]||[]).push([[0],{166:function(e,t,n){},167:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(26),i=n.n(r),s=(n(166),n(264)),o=(n(120),n(167),n(155)),d=n(83),l=n.n(d),u=n(113),j=n(60),b=n(50),f=n(158),O=n(269),h=n(268),p=n(266),m=n(153),x=n(270),g=n(267),v=n(147),k=n(265),y=n(40),w=n(141),C=n.n(w).a.create({baseURL:"/",headers:{"Content-Type":"application/json"}}),S=n(159),I=n(271),F=n(20),T=O.a.Search,L=[],N=function(e){var t=e.editing,n=e.dataIndex,a=e.title,c=e.inputType,r=(e.record,e.index,e.children),i=Object(f.a)(e,["editing","dataIndex","title","inputType","record","index","children"]),s="number"===c?Object(F.jsx)(h.a,{}):Object(F.jsx)(O.a,{});return Object(F.jsx)("td",Object(b.a)(Object(b.a)({},i),{},{children:t?Object(F.jsx)(p.a.Item,{name:n,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(a,"!")}],children:s}):r}))},R=function(){var e=p.a.useForm(),t=Object(j.a)(e,1)[0],n=Object(a.useState)(L),c=Object(j.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),d=Object(j.a)(s,2),f=d[0],O=d[1],h=Object(a.useState)(!1),w=Object(j.a)(h,2),R=w[0],B=w[1],E=Object(a.useState)(""),P=Object(j.a)(E,2),D=P[0],J=P[1],V=Object(a.useState)([]),q=Object(j.a)(V,2),z=q[0],K=q[1];r=r&&r.filter((function(e){return Object.keys(e).some((function(t){return e[t].toLowerCase().includes(D)}))}));Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),e.next=4,C.get("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json");case 4:t=e.sent,n=(n=t.data).map((function(e){var t=Object.assign({},e);return t.key=e.id,t})),i(n),B(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),B(!1),console.log(e.t0),a="error",c=e.t0.message,m.a[a]({message:c});case 16:case"end":return e.stop()}var a,c}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var M=function(e){return e.key===f},U=function(){O("")},A=function(){var e=Object(u.a)(l.a.mark((function e(n){var a,c,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.validateFields();case 3:a=e.sent,c=Object(o.a)(r),(s=c.findIndex((function(e){return n===e.key})))>-1?(d=c[s],c.splice(s,1,Object(b.a)(Object(b.a)({},d),a)),i(c),O("")):(c.push(a),i(c),O("")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),G=[{title:"Name",dataIndex:"name",width:"50%",editable:!0},{title:"Email",dataIndex:"email",width:"50%",editable:!0},{title:"Role",dataIndex:"role",width:"50%",editable:!0},{title:"operation",dataIndex:"operation",className:"operation",width:"50%",render:function(e,n){var a=M(n);return Object(F.jsxs)(F.Fragment,{children:[a?Object(F.jsxs)("span",{children:[Object(F.jsx)("a",{href:"/#",onClick:function(){return A(n.key)},style:{marginRight:8},children:"Save"}),Object(F.jsx)(x.a,{title:"Sure to cancel?",onConfirm:U,children:Object(F.jsx)("a",{href:"/#",children:"Cancel"})})]}):Object(F.jsx)(g.a.Link,{disabled:""!==f,onClick:function(){return function(e){t.setFieldsValue(Object(b.a)({name:"",age:"",address:""},e)),O(e.key)}(n)},children:Object(F.jsx)(S.a,{})}),Object(F.jsx)("div",{className:"delete-btn",children:Object(F.jsx)(g.a.Link,{disabled:""!==f,onClick:function(){return e=n.id,r=r.filter((function(t){return t.id!==e})),void i(r);var e},children:Object(F.jsx)(I.a,{twoToneColor:"#eb2f96"})})})]})}}].map((function(e){return e.editable?Object(b.a)(Object(b.a)({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:M(t)}}}):e})),H={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t),K(t)}};return R?Object(F.jsx)(v.a,{}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(T,{placeholder:"Search by name, email or role",onChange:function(e){J(e.target.value)},enterButton:!0}),Object(F.jsx)(p.a,{form:t,component:!1,children:Object(F.jsx)(k.a,{components:{body:{cell:N}},rowSelection:Object(b.a)({},H),bordered:!0,dataSource:r,columns:G,rowClassName:"editable-row",pagination:{onChange:U}})}),z.length>0&&Object(F.jsx)(y.a,{type:"primary",danger:!0,className:"delete-selected-btn",onClick:function(){return function(){var e=z.map((function(e){return e.id}));r=r.filter((function(t){return!e.includes(t.id)})),i(r),K([])}()},children:"Delete Selected"})]})},B=function(){return Object(F.jsx)("div",{children:Object(F.jsx)(R,{})})};var E=function(){return Object(F.jsx)("div",{className:"admin-wrp",children:Object(F.jsx)(s.a,{justify:"center",align:"middle",children:Object(F.jsx)(B,{})})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,272)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(F.jsx)(c.a.StrictMode,{children:Object(F.jsx)(E,{})}),document.getElementById("root")),P()}},[[260,1,2]]]);
//# sourceMappingURL=main.495afa41.chunk.js.map